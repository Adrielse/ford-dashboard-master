<div class="dashboard-container">
  <!-- Cabeçalho e navegação -->
  <header>
    <h1 style="color: rgb(3, 3, 112);">Dashboard Ford</h1>
    <div class="header-actions">
      <button class="nav-button" (click)="router.navigate(['/home'])">Home</button>
      <button class="nav-button logout" (click)="logout()">Logout</button>
    </div>
  </header>

  <!-- Seletor de Veículo -->
  <div class="vehicle-selector">
    <label for="vehicleSelect">Selecione um veículo:</label>
    <select id="vehicleSelect" class="vehicle-select" 
            [(ngModel)]="selectedVehicle" 
            (change)="selectVehicle(selectedVehicle)">
      <option [ngValue]="null" disabled>Selecione um veículo</option>
      <option *ngFor="let vehicle of vehicles" [ngValue]="vehicle">
        {{vehicle.model}} ({{vehicle.year}})
      </option>
    </select>
  </div>

  <!-- Cartões de Métricas -->
  <div class="metrics-cards">
    <div class="metric-card">
      <div class="metric-header">
        <h3>Total de Vendas</h3>
      </div>
      <div class="metric-value">{{currentTotalSales.toLocaleString('pt-BR')}}</div>
      <div class="metric-unit">{{selectedVehicle ? 'deste modelo' : 'totais'}}</div>
    </div>

  <div class="metric-card">
    <div class="metric-header">
      <h3>Conectados</h3>
    </div>
    <div class="metric-value">{{connectedVehicles}}</div>
    <div class="metric-unit">unit</div>
  </div>

  <div class="metric-card">
    <div class="metric-header">
      <h3>Software Atualizado</h3>
    </div>
    <div class="metric-value">{{updatedVehicles}}</div>
    <div class="metric-unit">unit</div>
  </div>
</div>
  <!-- Imagem do Veículo Selecionado -->
  <div class="vehicle-image" *ngIf="selectedVehicle">
    <img [src]="selectedVehicle.imageUrl" [alt]="selectedVehicle.model" class="vehicle-img">
    <h2>{{selectedVehicle.model}} ({{selectedVehicle.year}})</h2>
  </div>

  <!-- Busca por VIN -->
  <div class="vin-search">
    <input type="text" [(ngModel)]="searchVin" placeholder="Digite o código VIN ">
    <button (click)="searchVehicleData()">Buscar Dados</button>
  </div>

  <!-- Tabela de Resultados -->
  <div class="vehicle-data" *ngIf="vehicleData">
    <h3>Dados do Veículo</h3>
    <table>
      <thead>
        <tr>
          <th>Código VIN</th>
          <th>Odômetro</th>
          <th>Nível Combustível</th>
          <th>Status</th>
          <th>Pressão Pneus</th>
          <th>Bateria</th>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>{{vehicleData.vin}}</td>
          <td>{{vehicleData.odometer}} km</td>
          <td>{{vehicleData.fuelLevel}}%</td>
          <td>{{vehicleData.status}}</td>
          <td>{{vehicleData.tirePressure}}</td>
          <td>{{vehicleData.batteryStatus}}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>